<!DOCTYPE html>
<html>
    <head>
        <title> JavaScript Async & Await</title>
    </head>
    <body>
        <script>
            
            let result = function(score){
                return new Promise(function(resolve, reject){
                    console.log('Calculating results......')
                    if(score>50)
                        resolve('Congratulations! You have passed')
                    else
                        reject('You have failed')
                })
            }
            let grade = function(response){
                return new Promise(function(resolve, reject){
                    console.log('Calculating your grade.....')
                    resolve('Your grade is A.' + response)
                })
            }

            //without Async & Await
            result(80).then(response => {
                console.log('Results received')
                return grade(response)
            }).then(finalgrade => {
                console.log(finalgrade)
            }).catch(err => {
                console.log(err)
            })
            
            //Async & Await
            async function calculateResults(){
                try{
                    const response = await result(20)
                    console.log('Results received')
                    const finalgrade = await grade(response)
                    console.log(finalgrade)
                }
                catch(err){
                    console.log(err)
                }
            }
            calculateResults()
        </script>
    </body>
</html>